<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Interruptions — Vera Molnar</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
html,body{height:100%;background:#0a0a0a;overflow:hidden}
canvas{display:block;width:100%;height:100%}
#info{position:fixed;bottom:16px;left:50%;transform:translateX(-50%);color:rgba(255,255,255,0.9);background:rgba(0,0,0,0.6);padding:6px 12px;border-radius:6px;text-shadow:0 1px 3px rgba(0,0,0,0.9);font:13px/1.4 ui-monospace,monospace;pointer-events:none;text-align:center}
</style>
</head>
<body>
<canvas id="c"></canvas>
<div id="info">Vera Molnar, Interruptions (1968+) · move mouse to disrupt · click to regenerate</div>
<script>
const c=document.getElementById('c'),ctx=c.getContext('2d');
let W,H,mx=-1,my=-1,grid=[];

function resize(){
  W=c.width=innerWidth;H=c.height=innerHeight;
  generate();
}

function generate(){
  grid=[];
  const COLS=24,ROWS=24;
  const cellW=W/COLS,cellH=H/ROWS;
  for(let r=0;r<ROWS;r++){
    for(let cl=0;cl<COLS;cl++){
      grid.push({
        x:cl*cellW+cellW/2,
        y:r*cellH+cellH/2,
        w:cellW*0.7,
        h:cellH*0.7,
        baseAngle:(Math.random()-0.5)*0.15,
        seed:Math.random()
      });
    }
  }
}

resize();
addEventListener('resize',resize);
addEventListener('click',generate);
addEventListener('mousemove',e=>{mx=e.clientX;my=e.clientY});
addEventListener('touchmove',e=>{mx=e.touches[0].clientX;my=e.touches[0].clientY},{passive:true});

function loop(){
  ctx.fillStyle='#0a0a0a';ctx.fillRect(0,0,W,H);
  ctx.strokeStyle='#c0c0c0';ctx.lineWidth=1;

  const radius=Math.min(W,H)*0.25;
  for(const g of grid){
    const dx=mx-g.x,dy=my-g.y;
    const dist=Math.sqrt(dx*dx+dy*dy);
    const influence=Math.max(0,1-dist/radius);
    const disruption=influence*influence;
    const angle=g.baseAngle+disruption*(g.seed-0.5)*Math.PI*1.5;
    const scale=1-disruption*0.4*g.seed;
    const ox=disruption*(g.seed-0.5)*12;
    const oy=disruption*(g.seed-0.5)*12;

    ctx.save();
    ctx.translate(g.x+ox,g.y+oy);
    ctx.rotate(angle);
    ctx.globalAlpha=0.4+0.6*(1-disruption*0.5);
    ctx.strokeRect(-g.w*scale/2,-g.h*scale/2,g.w*scale,g.h*scale);
    ctx.restore();
  }
  ctx.globalAlpha=1;
  requestAnimationFrame(loop);
}
loop();
</script>
</body>
</html>
