<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgPHJlY3QgZmlsbD0iIzBhMGEwYSIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIi8+CiAgPHBhdGggZD0iTTggOCBMMjQgOCBMMjQgMjQgTDggMjQgWiBNMTIgMTIgTDIwIDEyIEwyMCAyMCBMMTIgMjAgWiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEuNSIvPgo8L3N2Zz4K"/>
<title>Gaussian Quadratic — after A. Michael Noll (1965)</title>
<style>
  *{margin:0;padding:0}
  body{background:#f5f0e8;overflow:hidden}
  canvas{display:block;width:100vw;height:100vh}
  #info{position:fixed;bottom:16px;left:50%;transform:translateX(-50%);color:rgba(0,0,0,0.9);background:rgba(245,240,232,0.85);padding:6px 14px;border-radius:6px;font:13px/1.4 ui-monospace,monospace;pointer-events:none;text-align:center;text-shadow:none;border:1px solid rgba(0,0,0,0.1)}
  #epoch{position:fixed;top:16px;left:16px;color:rgba(0,0,0,0.6);background:rgba(245,240,232,0.8);padding:4px 10px;border-radius:5px;font:12px ui-monospace,monospace;pointer-events:none}
</style>
</head>
<body>
<canvas id="c"></canvas>
<div id="info">click to regenerate · after A. Michael Noll, Bell Labs 1965</div>
<div id="epoch">Gaussian Quadratic</div>
<script>
const c = document.getElementById('c');
const ctx = c.getContext('2d');
let W, H, dpr;

function resize() {
  dpr = Math.min(window.devicePixelRatio || 1, 2);
  W = window.innerWidth; H = window.innerHeight;
  c.width = W * dpr; c.height = H * dpr;
  c.style.width = W + 'px'; c.style.height = H + 'px';
  ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
}

// Box-Muller transform for Gaussian random
function gaussRandom(mean, std) {
  let u = 0, v = 0;
  while (u === 0) u = Math.random();
  while (v === 0) v = Math.random();
  return mean + std * Math.sqrt(-2.0 * Math.log(u)) * Math.cos(2.0 * Math.PI * v);
}

function generate() {
  resize();
  // Cream/parchment background
  ctx.fillStyle = '#f5f0e8';
  ctx.fillRect(0, 0, W, H);

  const cx = W / 2;
  const cy = H / 2;
  const scale = Math.min(W, H) * 0.35;
  const N = 80 + Math.floor(Math.random() * 40);

  // Generate points on a Gaussian-perturbed quadratic
  const points = [];
  for (let i = 0; i < N; i++) {
    const t = (i / N) * 2 - 1; // -1 to 1
    const x = t;
    const y = t * t; // quadratic base
    // Gaussian perturbation
    const px = x + gaussRandom(0, 0.12);
    const py = y + gaussRandom(0, 0.08);
    points.push({
      x: cx + px * scale,
      y: cy - py * scale + scale * 0.3, // shift down so parabola is visible
    });
  }

  // Draw connecting lines between sequential points
  // Noll's original used a plotter: thin black lines on white paper
  ctx.strokeStyle = 'rgba(20, 15, 10, 0.7)';
  ctx.lineWidth = 1;
  ctx.lineCap = 'round';

  for (let i = 1; i < points.length; i++) {
    ctx.beginPath();
    ctx.moveTo(points[i - 1].x, points[i - 1].y);
    ctx.lineTo(points[i].x, points[i].y);
    ctx.stroke();
  }

  // Additional random cross-connections (Noll explored these)
  ctx.strokeStyle = 'rgba(20, 15, 10, 0.25)';
  ctx.lineWidth = 0.5;
  for (let i = 0; i < N * 0.4; i++) {
    const a = Math.floor(Math.random() * points.length);
    const b = Math.floor(Math.random() * points.length);
    if (Math.abs(a - b) < 3 || Math.abs(a - b) > N * 0.5) continue;
    ctx.beginPath();
    ctx.moveTo(points[a].x, points[a].y);
    ctx.lineTo(points[b].x, points[b].y);
    ctx.stroke();
  }

  // Subtle border frame (plotter paper edge)
  const margin = Math.min(W, H) * 0.06;
  ctx.strokeStyle = 'rgba(0,0,0,0.08)';
  ctx.lineWidth = 0.5;
  ctx.strokeRect(margin, margin, W - margin * 2, H - margin * 2);
}

generate();

c.addEventListener('click', generate);
c.addEventListener('touchstart', e => { e.preventDefault(); generate(); }, { passive: false });
window.addEventListener('resize', generate);
</script>
<script>if(window!==window.top){document.querySelectorAll("#info,#epoch,#seed,#params,#gen,#ctrl,#depth,.info,#buttons").forEach(function(e){e.style.display="none"})}</script>
</body>
</html>
