<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Sierpiński Triangle</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
html,body{height:100%;background:#000;overflow:hidden}
canvas{display:block;width:100%;height:100%}
#info{position:fixed;bottom:16px;left:50%;transform:translateX(-50%);color:rgba(255,255,255,0.9);background:rgba(0,0,0,0.6);padding:6px 12px;border-radius:6px;text-shadow:0 1px 3px rgba(0,0,0,0.9);font:13px/1.4 ui-monospace,monospace;pointer-events:none;text-align:center}
#buttons{position:fixed;bottom:50px;left:50%;transform:translateX(-50%);display:flex;gap:8px}
#buttons button{background:rgba(255,255,255,0.08);border:1px solid rgba(255,255,255,0.15);color:rgba(255,255,255,0.6);font:14px ui-monospace,monospace;padding:8px 14px;border-radius:8px;cursor:pointer}
#buttons button:hover{background:rgba(255,255,255,0.14);color:rgba(255,255,255,0.9)}
#depth{position:fixed;top:16px;left:16px;color:rgba(255,255,255,0.75);background:rgba(0,0,0,0.5);padding:4px 10px;border-radius:5px;text-shadow:0 1px 2px rgba(0,0,0,0.8);font:13px ui-monospace,monospace;pointer-events:none}
</style>
</head>
<body>
<canvas id="c"></canvas>
<div id="depth">depth 6 · fill</div>
<div id="buttons">
<button onclick="changeDepth(-1)">depth −</button>
<button onclick="changeDepth(1)">depth +</button>
<button onclick="toggleMode()">fill / stroke</button>
</div>
<div id="info">Sierpiński Triangle (Wacław Sierpiński, 1915) · click to toggle mode</div>
<script>
const c=document.getElementById('c'),ctx=c.getContext('2d');
let W,H,depth=6,mode='fill';

function resize(){W=c.width=innerWidth;H=c.height=innerHeight;draw()}
resize();
addEventListener('resize',resize);

function tri(x1,y1,x2,y2,x3,y3,d,hue){
  if(d===0){
    ctx.fillStyle=`hsl(${hue},70%,50%)`;
    ctx.strokeStyle=`hsl(${hue},70%,60%)`;
    ctx.beginPath();ctx.moveTo(x1,y1);ctx.lineTo(x2,y2);ctx.lineTo(x3,y3);ctx.closePath();
    if(mode==='fill')ctx.fill();
    ctx.stroke();
    return;
  }
  const mx1=(x1+x2)/2,my1=(y1+y2)/2;
  const mx2=(x2+x3)/2,my2=(y2+y3)/2;
  const mx3=(x3+x1)/2,my3=(y3+y1)/2;
  const hs=360/(depth+1);
  tri(x1,y1,mx1,my1,mx3,my3,d-1,hue);
  tri(mx1,my1,x2,y2,mx2,my2,d-1,hue+hs);
  tri(mx3,my3,mx2,my2,x3,y3,d-1,hue+hs*2);
}

function draw(){
  ctx.fillStyle='#000';ctx.fillRect(0,0,W,H);
  const size=Math.min(W,H)*0.8;
  const cx=W/2,cy=H/2;
  const h=size*Math.sqrt(3)/2;
  ctx.lineWidth=0.5;
  tri(cx,cy-h/1.5,cx-size/2,cy+h/3,cx+size/2,cy+h/3,depth,200);
  document.getElementById('depth').textContent=`depth ${depth} · ${mode}`;
}

function changeDepth(d){depth=Math.max(0,Math.min(8,depth+d));draw()}
function toggleMode(){mode=mode==='fill'?'stroke':'fill';draw()}
</script>
</body>
</html>
